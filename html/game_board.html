<!DOCTYPE html>
<html>
	<head>
		<!--
		You have to go up one level in order to access files from other folders.
		.. = One folder up from the current folder.
		-->
		<script src="../js/jquery.js"></script>
		<script src="../js/shared.js"></script>
		<script src="../js/primary_gameboard_operation.js"></script>
		<script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
		<script type="text/javascript">

			var RotateDir=0;
			var Rotation=0;
			
			function Initialize()
			{
				//The commented code does not function properly yet.
				//When something screws up during runtime, other functions just stop.
				//So I had to comment them out to allow the game board to rotate, which it does.
				GlobalInitialize(true);
				GameInitialize();
				//var Game=JSON.parse(localStorage.MainGame);
				//alert(Game.Name);
				setInterval("RotateThink();",50);
				pickATip();
			}
			function RotateBegin(dir){
				RotateDir=dir*5;
			}
			function RotateEnd(){
				RotateDir=0;
			}
			function RotateThink(){
				if(RotateDir!=0){
					Rotation+=RotateDir;
					RotateDir%=360;
					//if((RotateDir>=360)||(RotateDir<=-360)){RotateDir=0;}
					document.getElementById("GameBoardCircle").style.webkitTransform="rotate("+Rotation.toString()+"deg)";
					document.getElementById("GameBoardCircle").style.MozTransform="rotate("+Rotation.toString()+"deg)";
					/*
					var Prods=document.getElementsByClassName("ProductDisplayItem");
					if(Prods.length>0){
						for(Key in Prods){
							if(Prods[Key].style){
								Prods[Key].style.webkitTransform="rotate("+(-Rotation).toString()+"deg)";
								Prods[Key].style.MozTransform="rotate("+(-Rotation).toString()+"deg)";
							}
						}
					}
					*/
				}
			}
			function pickATip()
			{
				    document.getElementById("GameAdvice").innerHTML = 
						theTips[ Math.floor( Math.random() * theTips.length ) ];
			}
			function createNewProduct() {
				var newProductName = $("#new-product-name-input").val();
				window.product = Product(null, newProductName, 'Product Category', 'Product Sub-Category', 'Player Color');
				alert("New Product: " + window.product.toString());
			}
			function displayNewProductDialog() {
				$("#PopupOverlay").show();
				$("#new-product-dialog").show();		
			}
			function hideNewProductDialog() {
				$("#new-product-dialog").hide();
				$("#PopupOverlay").hide();
			}
			function displayEmployeeDialog() {
				$("#employee_dialog").show();
				
			}
			function hideEmployeeDialog() {
				$("#employee_dialog").hide();
				
			}
		</script>
		<link rel="stylesheet" type="text/css" href="../css/shared.css"></link>
		<style>
			#GameBoardCircle
			{
				background-image:url('../images/gameboard_circle.png');
				position:absolute;
				top:0%;
				left:24%;
				width:600px;
				height:600px;
				webkit-transform-origin:50% 50%;
				moz-transform-origin:50% 50%;
			}
			#GameBoardCenter
			{
				background-image:url('../images/gameboard_center.png');
				position:absolute;
				top:0%;
				left:24%;
				width:800px;
				height:600px;
			}
			div.PlayerBox{
				position:absolute;
				border-style:solid;
				border-width:7px;
				width:30%;
				height:15%;
				/*box-shadow: 0px 0px 40px 5px #AAAAAA;*/
			}
			div.PlayerBox{
				position:absolute;
				border-style:solid;
				border-width:7px;
				width:30%;
				height:15%;
				/*box-shadow: 0px 0px 40px 5px #AAAAAA;*/
				background:rgba(0,0,0,.75);
				-moz-border-radius:10px;
				-webkit-border-radius:10px;
				border-radius:10px;
			}
			div.PlayerBox:hover{
				background:rgba(50,50,50,.75);
			}
			button.SmallStandard{
				outline:none;
				position:absolute;
				padding:0.4em 2em;
				font-size:1.6em;
				font-family:Arial;
				text-align:center;
				background:rgba(255,255,255,0.75);
				color:rgba(0,0,0,0.7);
				text-shadow:1px 1px 0 rgba(255,255,255,0.1);
				text-decoration:none;
				border:solid 1px rgba(20,20,20,1);
				border-radius:10px;
				box-shadow:inset 1px 1px 1px rgba(255,255,255,0.05),inset 0 0 35px rgba(0,0,0,0.6),0 10px 10px -6px rgba(0,0,0,0.75);

			}
			button.SmallStandard:hover {
				background:rgba(255,255,255,1);
				box-shadow:inset 1px 1px 1px rgba(255,255,255,0.05),inset 0 0 35px rgba(0,0,0,0.6),0 10px 10px -6px rgba(0,0,0,1);
			}
			button.SmallStandard:active {
				top:5px;
				box-shadow:inset 0 1px 1px rgba(0,0,0,0.4),inset 0 0 35px rgba(0,0,0,0.6),0 1px 1px rgba(255,255,255,0.1),inset 0 6px 4px rgba(0,0,0,0.4);
			}
			marquee#GameAdvice
			{
				font-family: calibri, verdana, arial, sans-serif; 
				font-size: 15pt; 
				color: #CCCCCC;
				cursor: hand;
			}
		</style>
	</head>
	
	
	<body onload="Initialize()">
		<div id="MainBackground">
			<div id="ContentContainer">
				<div id="MainBoard" style="top:2%;left:2%">
					<div class="PlayerBox" id="PlyOneScbdBox" style="border-color:grey;width:25%;left:1%;top:1%;">
						<div class="StandardText" id="PlyOneScbdName" style="font-size:25px;left:10%;top:5%;">nil</div>
						<div class="StandardText" style="font-size:18px;left:10%;top:35%;color:rgb(160,160,160)">$<span id="PlyOneScbdMoney" style="color:white">nil</span><sup style="font-size:10px">.00</sup></div>
						<div class="StandardText" style="font-size:10px;left:12%;top:62%;color:rgb(160,160,160);font-size:10px">Products <span id="PlyOneScbdProds" style="color:white">nil</span></div>
						<div class="StandardText" style="font-size:10px;left:54%;top:62%;color:rgb(160,160,160);font-size:10px">Developers <span id="PlyOneScbdDevs" style="color:white">nil</span></div>
						<div class="StandardText" style="font-size:10px;left:12%;top:77%;color:rgb(160,160,160);font-size:10px">Designers <span id="PlyOneScbdDsgns" style="color:white">nil</span></div>
						<div class="StandardText" style="font-size:10px;left:54%;top:77%;color:rgb(160,160,160);font-size:10px">Testers <span id="PlyOneScbdTsts" style="color:white">nil</span></div>
					</div>
				</div>
				<div id="GameBoard">
					<div id="GameBoardCenter"></div>
					<div id="GameBoardCircle"></div>
					<button class="SmallStandard" id="TurnBoardCCWButton" style="top:24%;left:3%;width:2%;height:7%;padding:.2em 1.6em" onmousedown="RotateBegin(-1)" onmouseup="RotateEnd()" onmouseout="RotateEnd()"><b><</b></button>
					<button class="SmallStandard" id="TurnBoardCWButton" style="top:24%;left:14%;width:2%;height:7%;padding:.2em 1.6em" onmousedown="RotateBegin(1)" onmouseup="RotateEnd()" onmouseout="RotateEnd()"><b>></b></button>
				</div>
				<button id="new-product-button" class="Standard Compact" style="top:80%;left:3%;width:10%;height:8%;"onclick="displayNewProductDialog()">New<br>Product</button>
				<button id="employee_button" class="Standard Compact" style="top:80%;left:13%;width:11%;height:8%;" onclick="displayEmployeeDialog()">Manage<br>Employees</button>

				<marquee id="GameAdvice" scrollamount="20" style="top:80%;" onmouseover="this.scrollAmount=0;" onmouseout="this.scrollAmount=20;">
				</marquee>

				<div class="PopupOverlay" id="PopupOverlay">
					<div class="popup" id="new-product-dialog">
						<div class="StandardText">New Product</div>
						<div>
							<p>
								Name:
								<input id="new-product-name-input" type="text">
							</p>
							<button class="Medium RoundEdge" id="new-product-make-button">Make</button>
							<button class="Medium RoundEdge" id="new-product-cancel-button" onclick="hideNewProductDialog()">Cancel</button>
						</div>
						</div>
					</div>
				</div>
			</div>
		</div>
<!-- hidden dom elements -->		
        <div class="popup2" id="employee_dialog">
			<h1>Add Employees</h1>
			<p>
			</p>
			<div>
				<p>
				 <td>Designers:
					<select name="Designers">
					<option value="DesignZero">0</option>
					<option value="DesignOne">1</option>
					<option value="DesignTwo">2</option>
					<option value="DesignThree">3</option>
					<option value="DesignFour">4</option>
					</select>
				</td>
				</p>
				<p>
				 <td>Developers:
					<select name="Developers">
					<option value="DevelopZero">0</option>
					<option value="DevelopOne">1</option>
					<option value="DevelopTwo">2</option>
					<option value="DevelopThree">3</option>
					<option value="DevelopFour">4</option>
					</select>
				</td>
				</p>
				<p>
				 <td>Testers:
					<select name="Testers">
					<option value="TestZero">0</option>
					<option value="TestOne">1</option>
					<option value="TestTwo">2</option>
					<option value="TestThree">3</option>
					<option value="TestFour">4</option>
					</select>
				</td>
				</p>				
				<button class="Medium RoundEdge" id="add_employee_button">Add</button>
				<button class="Medium RoundEdge" id="employee_cancel_button" onclick="hideEmployeeDialog()">Cancel</button>
			</div>
			</div>
		</div>		
	</body>
</html>